@model IEnumerable<LTWEB_8.Models.SACH>
@helper Truncate(string input, int length)
{
    if (input == null || input.Length < length)
    {
        @input
    }
    else
    {
        @input.Substring(0, length)<text>...</text>
    }
}
@{
    ViewBag.Title = "Quản lý Sách";

    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .table td, .table th {
        vertical-align: middle !important;
        text-align: center;
    }

    .table th {
        font-weight: bold;
    }

    .table-actions {
        min-width: 180px;
    }

    .book-image {
        max-width: 70px;
        height: auto;
        border-radius: 4px;
        border: 1px solid #ddd;
    }
</style>

<h2>@ViewBag.Title</h2>

<p>
    @Html.ActionLink("Thêm Sách mới", "Create", null, new { @class = "btn btn-primary" })
</p>

<div class="table-responsive">
    <table class="table table-striped table-bordered table-hover">
        <thead class="thead-dark">
            <tr>
                <th>Mã sách</th>
                <th>Tên sách</th>
                <th>Ảnh bìa</th>
                <th>Đơn giá</th>
                <th>Mô tả</th>
                <th>Chủ đề</th>
                <th>NXB</th>
                <th>Tác giả</th>
                <th class="table-actions">Hành động</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.MaSach)
                    </td>
                    <td style="text-align: left;">
                        @Html.DisplayFor(modelItem => item.TenSach)
                    </td>
                    <td>
                        <img src="@Url.Content("~/Hinhsanpham/" + item.AnhBia)" class="book-image" alt="@item.TenSach" />
                    </td>
                    <td>
                        @String.Format("{0:0,0} VNĐ", item.DonGia)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CHUDE.TenChuDe)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NHAXUATBAN.TenNXB)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TACGIA.TenTG)
                    </td>
                    <td>
                        @Html.ActionLink("Sửa", "Edit", new { id = item.MaSach }, new { @class = "btn btn-warning btn-sm" })
                        @Html.ActionLink("Xem", "Details", new { id = item.MaSach }, new { @class = "btn btn-info btn-sm" })
                        @Html.ActionLink("Xóa", "Delete", new { id = item.MaSach }, new { @class = "btn btn-danger btn-sm" })
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>